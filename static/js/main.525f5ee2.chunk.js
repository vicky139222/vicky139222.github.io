(this.webpackJsonpsonority_drawer=this.webpackJsonpsonority_drawer||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),r=n.n(i),l=n(9),s=n.n(l),o=(n(65),n(51)),c=n(25),h=n(26),u=n(30),f=n(29),d=(n(66),n(50)),v=n(109),b=n(110),g=n(111),j=n(49),p=n.n(j),x=(n(67),n(40)),y=["obstuent","nasal","liquid","glide","vowel"],O=["p","b","t","d","\u0288","\u0256","c","\u025f","k","\u0261","q","\u0262","\u0294"],m=["\u0278","\u03b2","f","v","\u03b8","\xf0","s","z","\u0283","\u0292","\u0282","\xe7","x","\u0263","\u03c7","\u0281","h"],k=["t\u0361s","d\u0361z","t\u0361\u0283","d\u0361\u0292","\u0288\u0361\u0282","c\u0361\xe7","\u025f\u0361\u029d"],w=["m","n","\u0273","\u0272","\u014b"],S=["i","y","\u0268","\u026f","u","\u026a","\u028a","e","o","\u0259","\u025b","\u028c","\u0254","\xe6","a","\u0251"],C=O.concat(m,k,w,["\u027e","\u027d"],["r"],["l","\u026d","\u028e"],["w","\u0279","\u027b","j"],S),N={vowel:S,glide:["j","w"],liquid:["\u027e","\u027d","r","l","\u026d","\u028e","\u0279","\u027b"],nasal:w,obstuent:O.concat(m,k)},T=function(){for(var e={},t=0;t<y.length;t++){var n,a=N[y[t]],i=Object(x.a)(a);try{for(i.s();!(n=i.n()).done;){e[n.value]=t}}catch(r){i.e(r)}finally{i.f()}}return e}();function D(e){var t,n=[],a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.push(T[i])}}catch(r){a.e(r)}finally{a.f()}return n}var I=n(105),A=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).rows=[];for(var i=0;i<C.length;)a.rows.push(C.slice(i,Math.min(i+12,C.length))),i+=12;return a}return Object(h.a)(n,[{key:"onKeyboardClick",value:function(e){this.props.onKeyClicked(e)}},{key:"render",value:function(){var e=this;return Object(a.jsx)(I.a,{elevation:"2",style:{width:"600px",marginTop:"50px",backgroundColor:"#323542"},children:Object(a.jsx)("table",{style:{width:"100%",padding:"15px",tableLayout:"fixed"},children:Object(a.jsx)("tbody",{children:this.rows.map((function(t){return Object(a.jsx)("tr",{children:t.map((function(t){return Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"keyboard-button",onClick:function(){return e.onKeyboardClick(t)},children:t})})}))})}))})})})}}]),n}(r.a.Component),F=n(113),R=n(112);function B(e,t,n,a,i){return n+(i-e)*(a-n)/(t-e)}var M=function(){var e=new Set;return C.forEach((function(t){e.add(t)})),e}(),K=Object(d.a)({palette:{type:"dark"}}),L=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={allowDiphthongs:!1},a}return Object(h.a)(n,[{key:"renderSplit",value:function(e){return Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold",marginRight:"6px",color:"#ffbc82"},children:e.length}),1==e.length?"syllable":"syllables",":",Object(a.jsxs)("span",{style:{marginLeft:"20px"},children:["[",e.join("."),"]"]})]})}},{key:"render",value:function(){var e=this,t=this.props.data[this.state.allowDiphthongs?"withDiphthongs":"withoutDiphthongs"];return console.log(this.props.data),Object(a.jsxs)("div",{style:{marginBottom:"35px"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:Object(a.jsx)(F.a,{control:Object(a.jsx)(R.a,{checked:this.state.allowDiphthongs,onChange:function(t){return e.setState({allowDiphthongs:t.target.checked})},name:"checkedB",color:"primary"}),label:"Allow Diphthongs"})}),1==t.length?this.renderSplit(t[0]):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"description-text",children:"If all ambiguities are treated as onset:"}),this.renderSplit(t[0]),Object(a.jsx)("div",{className:"description-text",children:"If all ambiguities are treated as coda:"}),this.renderSplit(t[1]),Object(a.jsx)("div",{className:"description-text",children:"Other syllabifications are possible depending on how the ambiguities are interpreted."})]})]})}}]),n}(r.a.Component),P=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={text:"",showResults:!1,errorMessage:null},a.parsedInputToDraw=null,a}return Object(h.a)(n,[{key:"changeText",value:function(e){this.setState({text:e})}},{key:"onKeyboardClicked",value:function(e){this.setState({text:this.state.text+e})}},{key:"onSearch",value:function(){var e=this.state.text;this.setState({showResults:!0});var t=this.parseInput(e);"string"===typeof t?this.setState({errorMessage:t}):(this.setState({errorMessage:null}),this.parsedInputToDraw=t,this.analysisData=this.getAnalysisData(t))}},{key:"getWithAmbiguityResolved",value:function(e,t,n){var a=e[t].syllable;return"?"==a?n:a}},{key:"getAnalysisData",value:function(e){for(var t={},n=0,a=[!1,!0];n<a.length;n++){for(var i=a[n],r=[],l=0,s=["O","C"];l<s.length;l++){for(var c=s[l],h=[],u=[],f=-1,d=0;d<e.length;d++){var v=e[d],b=(v.text,v.index,v.syllable);i&&"N"==b||f>=0&&(u.push([f,d-1]),f=-1),"N"==b&&f<0&&(f=d)}f>=0&&u.push([f,e.length-1]);for(var g=0;g<u.length;g++){var j=Object(o.a)(u[g],2),p=j[0],x=j[1];for(p--,x++;p>=0&&"O"==this.getWithAmbiguityResolved(e,p,c);)p--;for(;x<e.length&&"C"==this.getWithAmbiguityResolved(e,x,c);)x++;p++,x--,h.push(e.slice(p,x+1).map((function(e){return e.text})).join(""))}r.push(h)}e.every((function(e){return"?"!=e.syllable}))&&r.pop(),t[i?"withDiphthongs":"withoutDiphthongs"]=r}return t}},{key:"parseInput",value:function(e){for(var t=[],n=0;n<e.length;){for(var a=!1,i=Math.min(3,e.length-n);i>=1;--i){var r=e.slice(n,n+i);if(console.log(r),M.has(r)){t.push(r),n+=i,a=!0;break}}if(!a)return"Invalid input. Please try again."}var l=D(t),s=function(e){var t,n=[],a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;)t.value,n.push("T")}catch(O){a.e(O)}finally{a.f()}for(var i=D(e),r=-1,l=0,s=!1,o=-1;l<i.length;){var c=l+1<i.length?i[l+1]:-1,h=i[l];if(h>c&&h>r){if("j"==e[l]||"w"==e[l])return"Invalid Input. Glides are never syllabic in any language.";n[l]="N"}else if(h>r&&h===c)s=!0,o=l;else if(s&&h>c)for(var u=o=-1!=o?o:0;u<l+1;u++){if("j"==e[l]||"w"==e[l])return"Invalid Input. Glides are never syllabic in any language.";n[u]="N"}h!=c&&(s=!1),r=i[l],l+=1}l=0;var f=!1,d=-1;for(r=-1;l<i.length;){var v=l+1<i.length?i[l+1]:-1,b=i[l];if(b<v&&b<r)n[l]="?";else if(b<r&&b===v)f=!0,d=l;else if(b>v)f=!1;else if(f&&b<v)for(var g=d=-1!=d?d:0;g<l+1;g++)n[g]="?";r=i[l],l+=1}l=0;for(var j=!1,p="N";l<i.length;)"N"!==n[l]?"?"!==n[l]?j&&"?"!=p?("N"!=p||(n[l]="C"),l+=1):(n[l]="O",l+=1):(p="?",l+=1):(p="N",j=!0,l+=1);for(l=0;l<i.length;)"N"===(l+1<i.length?n[l+1]:null)&&"?"===n[l]&&(n[l]="O"),l+=1;for(var y=i.length-1;y>=0&&"N"!=n[y];)n[y]="C",y-=1;return n}(t);if("string"===typeof s)return s;for(var o=[],c=0;c<l.length;c++)o.push({text:t[c],index:l[c],syllable:s[c]});return o}},{key:"componentDidUpdate",value:function(){if(this.parsedInputToDraw){var e=this.parsedInputToDraw;this.parsedInputToDraw=null;var t=this.refs.canvas;if(t){for(var n=[120,30],a=[50,170],i={O:"#00FF00",N:"#00feff",C:"#FF0000","?":"#FFFF00"},r="#222327",l=[],s=0;s<e.length;s++){var o=e[s],c=n[0]+50*(s+.5),h=B(4,0,a[0],a[1],o.index),u=o.text,f=o.syllable;l.push({x:c,y:h,text:u,s:f})}t.width=50*e.length+n[0]+n[1],t.height=250;var d=t.getContext("2d");d.fillStyle=r,d.fillRect(0,0,t.width,t.height),d.strokeStyle="#666666",d.strokeRect(0,0,t.width,t.height),d.textAlign="center",d.textBaseline="middle",d.font="15px Arial";var v,b=null;d.fillStyle="#ffffff",v=n[0]/2,b=B(4,0,a[0],a[1],0),d.fillText("Obstruent",v,b),b=B(4,0,a[0],a[1],1),d.fillText("Nasal",v,b),b=B(4,0,a[0],a[1],2),d.fillText("Liquid",v,b),b=B(4,0,a[0],a[1],3),d.fillText("Glide",v,b),b=B(4,0,a[0],a[1],4),d.fillText("Vowel",v,b),d.beginPath(),d.strokeStyle="#ffffff";for(var g=0;g<l.length;++g){var j=l[g],p=j.x,x=j.y;0==g?d.moveTo(p,x):d.lineTo(p,x)}d.stroke(),d.font="bold 15px Arial",d.textAlign="center",d.textBaseline="middle";for(var y=0;y<l.length;++y){var O=l[y],m=O.x,k=O.y,w=O.s;d.fillStyle=r,d.fillRect(m-8,k-8,16,16),d.fillStyle=i[w],d.fillText(w,m,k)}d.fillStyle="#ffffff",d.font="17px Arial",d.textAlign="center",d.textBaseline="top";for(var S=0;S<l.length;++S){var C=l[S],N=C.x,T=C.y,D=C.text;d.fillText(D,N,200),d.beginPath(),d.setLineDash([2,8]),d.moveTo(N,T+10),d.lineTo(N,195),d.stroke()}}}}},{key:"backToSearch",value:function(){this.setState({showResults:!1})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(v.a,{theme:K,children:Object(a.jsxs)("div",{className:"column-flex",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)("h1",{children:"Syllable Analyzer"})}),this.state.showResults?Object(a.jsxs)("div",{className:"column-flex",children:[Object(a.jsxs)("div",{className:"text-to-analyze",children:["[",this.state.text,"]"]}),this.state.errorMessage?Object(a.jsx)("div",{className:"invalid-input-error",children:this.state.errorMessage}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("canvas",{ref:"canvas",width:300,height:300,className:"canvas"}),Object(a.jsx)(L,{data:this.analysisData})]}),Object(a.jsx)(b.a,{variant:"contained",onClick:function(){e.backToSearch()},children:"Back"})]}):Object(a.jsxs)("div",{className:"column-flex",children:[Object(a.jsxs)("div",{className:"search-bar-container",children:[Object(a.jsx)(g.a,{className:"search-bar",label:"Enter transcription in IPA",variant:"outlined",value:this.state.text,onKeyPress:function(t){13===t.charCode&&e.onSearch()},onChange:function(t){e.changeText(t.target.value)}}),Object(a.jsx)(b.a,{variant:"contained",style:{marginLeft:"10px",height:"50px"},disabled:!this.state.text,onClick:function(){e.onSearch()},children:Object(a.jsx)(p.a,{})})]}),Object(a.jsx)(A,{onKeyClicked:function(t){e.onKeyboardClicked(t)}})]})]})})}}]),n}(r.a.Component),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),r(e),l(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),W()}},[[73,1,2]]]);
//# sourceMappingURL=main.525f5ee2.chunk.js.map